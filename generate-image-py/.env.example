# Flux Docker 环境配置文件
# 复制此文件为 .env 并根据需要修改配置

# GPU配置
CUDA_VISIBLE_DEVICES=0

# 应用配置
FLASK_ENV=production
FLASK_DEBUG=false

# 端口配置
APP_PORT=5050

# Hugging Face配置（可选）
# HF_TOKEN=your_huggingface_token_here
# HF_USERNAME=your_username_here

# 模型配置
MODEL_CACHE_DIR=/app/flux_models
OUTPUT_DIR=/app/generated_images

# 性能配置
MAX_WORKERS=1
THREAD_COUNT=4

# 内存配置
PYTHON_GC_THRESHOLD=700,10,10
TORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT='%(asctime)s - %(name)s - %(levelname)s - %(message)s'

# Docker配置
COMPOSE_PROJECT_NAME=flux-docker
COMPOSE_HTTP_TIMEOUT=120

# 健康检查配置
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s